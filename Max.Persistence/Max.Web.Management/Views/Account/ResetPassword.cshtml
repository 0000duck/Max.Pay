@model Max.Web.Management.Models.Account.ResetPasswordViewModel
@using (Html.BeginForm("ResetPasswordForAjax", "Account", FormMethod.Post, new { id = "resetForm", @class = "form-horizontal form-bordered" }))
{
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
    <h4 class="modal-title"><i class="icon-lock"></i> 修改密码</h4>
</div>
<div class="modal-body form">
        @Html.HiddenFor(m=>m.SystemUserId)
        <div class="form-group margin-top-15">
            <label class="control-label col-md-3">原密码</label>
            <div class="col-md-8">
                @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                @Html.ValidationMessageFor(m=>m.Password)
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-3">新密码</label>
            <div class="col-md-8">
                @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control" })
                @Html.ValidationMessageFor(m=>m.NewPassword)
            </div>
        </div>
        <div class="form-group last">
            <label class="control-label col-md-3">确认密码</label>
            <div class="col-md-8">
                @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
                @Html.ValidationMessageFor(m=>m.ConfirmPassword)
            </div>
        </div>
</div>
<div class="modal-footer">
    <button type="button" data-dismiss="modal" class="btn btn-default">取消</button>
    <button type="submit" class="btn btn-primary"><i class="fa fa-check"></i> 修改密码</button>
</div>
    }
<script type="text/javascript">
    $.done("#resetForm", function (data) {
        if (data.Success)
            App.Notify(data.Message);
        else
            App.Alert(data.Message);
    })
</script>